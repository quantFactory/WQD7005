*------------------------------------------------------------*
* Score Log
Date:                December 19, 2019
Time:                16:53:29
*------------------------------------------------------------*
NOTE: View EMWS5.REG_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
NOTE: View EMWS5.REG_TRAIN.VIEW used (Total process time):
      real time           0.10 seconds
      cpu time            0.10 seconds
      
12445  /* Generate assessment metadata, which will be used to generate assessment data step */
12446  /* code, such as retrieving names of temporary variables and summary variables,      */
12447  /* labels, etc.  It is used in almost all the assessment computations such as lift,  */
12448  /* roc, index, scoreDist and could be thought as a global variable in assessment     */
12449  /* computation.                                                                      */
12450  data work.ASSESS_0KUGMJS_assessMeta_hmqCGG;
12451  length VARIABLE $32 FORMAT $44 TYPE $32 PARENT $32 LEVEL $32 PROPERTY $32 MEASUREMENT
12451! $10 LAST_LEVEL $32 GEN_VAR_IN_TEMP_DATA $32 RESULT_MEAN $32 RESULT_MEAN_LABEL $100
12451! RESULT_MIN $32 RESULT_MIN_LABEL $100 MIN_ADJUSTED $32 RESULT_MAX $32 RESULT_MAX_LABEL
12452     $100 MAX_ADJUSTED $32 RESULT_COUNT $32 RESULT_COUNT_LABEL $100 TEMPORARY_VARIABLE $32
12452! ;
12453  VARIABLE = "Attrition";
12454  PARENT = "";
12455  FORMAT = "";
12456  TYPE = "";
12457  LEVEL = '';
12458  PROPERTY = "TARGET";
12459  MEASUREMENT = "BINARY";
12460  LAST_LEVEL = '';
12461  GEN_VAR_IN_TEMP_DATA = "Attrition";
12462  RESULT_MEAN = "";
12463  RESULT_MEAN_LABEL = "";
12464  RESULT_MIN = "";
12465  RESULT_MIN_LABEL = "";
12466  MIN_ADJUSTED = "";
12467  RESULT_MAX = "";
12468  RESULT_MAX_LABEL = "";
12469  MAX_ADJUSTED = "";
12470  RESULT_COUNT = "";
12471  RESULT_COUNT_LABEL = "";
12472  TEMPORARY_VARIABLE = "Attrition_n47_bU_Vc7m3EcR";
12473  output;
12474  VARIABLE = "F_Attrition_1";
12475  FORMAT = "";
12476  TYPE = "";
12477  PARENT = "F_Attrition";
12478  LEVEL = "1";
12479  PROPERTY = "TARGET_LEVEL";
12480  MEASUREMENT = "INTERVAL";
12481  LAST_LEVEL = "0";
12482  GEN_VAR_IN_TEMP_DATA = "F_Attrition_1_wGRtSKvms8jMAnJ";
12483  RESULT_MEAN = "F_Attritio_mean_qIyGPequ6xmjx4y";
12484  /* adjust for tied cases */
12485  RESULT_MEAN_LABEL = "";
12486  RESULT_MIN = "";
12487  RESULT_MIN_LABEL = "";
12488  RESULT_MAX = "";
12489  RESULT_MAX_LABEL = "";
12490  RESULT_COUNT = "NumberOfEvents";
12491  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12492  TEMPORARY_VARIABLE = "F_Attrition_1_4VKtcXsYsr6Q8u4";
12493  output;
12494  VARIABLE = "F_Attrition_0";
12495  FORMAT = "";
12496  TYPE = "";
12497  PARENT = "F_Attrition";
12498  LEVEL = "0";
12499  PROPERTY = "TARGET_LEVEL";
12500  MEASUREMENT = "INTERVAL";
12501  LAST_LEVEL = "0";
12502  GEN_VAR_IN_TEMP_DATA = "F_Attrition_0_h05JnEu77Ye9f1Z";
12503  RESULT_MEAN = "F_Attritio_mean_fTfFoHRzNeJmUIm";
12504  /* adjust for tied cases */
12505  RESULT_MEAN_LABEL = "";
12506  RESULT_MIN = "";
12507  RESULT_MIN_LABEL = "";
12508  RESULT_MAX = "";
12509  RESULT_MAX_LABEL = "";
12510  RESULT_COUNT = "NumberOfEvents";
12511  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12512  TEMPORARY_VARIABLE = "F_Attrition_0_ovq3ONc2rycXq3Q";
12513  output;
12514  VARIABLE = "P_Attrition1";
12515  FORMAT = "";
12516  TYPE = "";
12517  PARENT = "";
12518  LEVEL = "1";
12519  PROPERTY = "POSTERIOR_LEVEL";
12520  MEASUREMENT = "INTERVAL";
12521  LAST_LEVEL = "";
12522  GEN_VAR_IN_TEMP_DATA = "P_Attrition1";
12523  RESULT_MEAN = "_meanP_";
12524  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12525  RESULT_MIN = "_minP_";
12526  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12527  MIN_ADJUSTED = "P_Attrit_minAdjusted_JZ_qp_s2L";
12528  RESULT_MAX = "_maxP_";
12529  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12530  MAX_ADJUSTED = "P_Attrit_maxAdjusted_4rhKnlOot";
12531  RESULT_COUNT = "";
12532  RESULT_COUNT_LABEL = "";
12533  TEMPORARY_VARIABLE = "P_Attrition1_gsSocMgfweRSwQD";
12534  output;
12535  VARIABLE = "P_Attrition0";
12536  FORMAT = "";
12537  TYPE = "";
12538  PARENT = "";
12539  LEVEL = "0";
12540  PROPERTY = "POSTERIOR_LEVEL";
12541  MEASUREMENT = "INTERVAL";
12542  LAST_LEVEL = "";
12543  GEN_VAR_IN_TEMP_DATA = "P_Attrition0";
12544  RESULT_MEAN = "_meanP_";
12545  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12546  RESULT_MIN = "_minP_";
12547  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12548  MIN_ADJUSTED = "P_Attrit_minAdjusted_uLzmhH5pP";
12549  RESULT_MAX = "_maxP_";
12550  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12551  MAX_ADJUSTED = "P_Attrit_maxAdjusted_wTeIPTdO8";
12552  RESULT_COUNT = "";
12553  RESULT_COUNT_LABEL = "";
12554  TEMPORARY_VARIABLE = "P_Attrition0__LQ_rT2Ac5GK4fL";
12555  output;
12556  run;

NOTE: The data set WORK.ASSESS_0KUGMJS_ASSESSMETA_HMQCGG has 5 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12557  /* Generate temporary dataset and obtain summary statistics such as total number of   */
12558  /* obserations, frequency of target.  However, summary statistics for class reporting */
12559  /* variabels are not computed here since if there exist class reporting variables,    */
12560  /* then PROC DMDB will be called. And there is no need to compute interval reporting  */
12561  /* summary statisitcs, if any.                                                        */
12562  data work.ASSESS_0KUGMJS_normSD_8PE9OR(drop=
12563  _numberOfObservation_
12564  _levelFrequency_1
12565  _levelFrequency_2
12566  )
12567  work.ASSESS_0KUGMJS_meansAndTi_gnZ4so (keep=
12568  _numberOfObservation_
12569  _levelFrequency_1
12570  _levelFrequency_2
12571  );
12572  set EMWS5.Reg_TRAIN(
12573  where=(
12574  (Attrition ^= .)
12575  )
12576  ) end=_lastObservation_;
12577  keep frequency_UorCHR;
12578  frequency_UorCHR = 1;
12579  keep I_Attrition F_Attrition;
12580  keep F_Attrition_1_wGRtSKvms8jMAnJ;
12581  if (F_Attrition = '1') then do;
12582  F_Attrition_1_wGRtSKvms8jMAnJ = 1;
12583  end;
12584  else do;
12585  F_Attrition_1_wGRtSKvms8jMAnJ = 0;
12586  end;
12587  keep F_Attrition_0_h05JnEu77Ye9f1Z;
12588  if (F_Attrition = '0') then do;
12589  F_Attrition_0_h05JnEu77Ye9f1Z = 1;
12590  end;
12591  else do;
12592  F_Attrition_0_h05JnEu77Ye9f1Z = 0;
12593  end;
12594  keep P_Attrition1;
12595  keep P_Attrition0;
12596  output work.ASSESS_0KUGMJS_normSD_8PE9OR;
12597  keep _numberOfObservation_;
12598  retain _numberOfObservation_ 0;
12599  _numberOfObservation_ + frequency_UorCHR;
12600  keep _levelFrequency_1;
12601  retain _levelFrequency_1 0;
12602  if (F_Attrition = '1') then do;
12603  _levelFrequency_1 + frequency_UorCHR;
12604  end;
12605  keep _levelFrequency_2;
12606  retain _levelFrequency_2 0;
12607  if (F_Attrition = '0') then do;
12608  _levelFrequency_2 + frequency_UorCHR;
12609  end;
12610  if _lastObservation_ then do;
12611  output work.ASSESS_0KUGMJS_meansAndTi_gnZ4so;
12612  end;
12613  run;

NOTE: There were 791 observations read from the data set EMWS5.PART_TRAIN.
NOTE: View EMWS5.REG_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      
NOTE: There were 791 observations read from the data set EMWS5.TRANS_TRAIN.
NOTE: There were 791 observations read from the data set EMWS5.REG_TRAIN.
      WHERE Attrition not = .;
NOTE: The data set WORK.ASSESS_0KUGMJS_NORMSD_8PE9OR has 791 observations and 7 variables.
NOTE: The data set WORK.ASSESS_0KUGMJS_MEANSANDTI_GNZ4SO has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      

12614  data WORK._EMRANK;
12615  set EMWS5.MdlComp_EMRANK;
12616  where MODEL = "Reg" and TARGET = "Attrition" and dataRole="TRAIN";
12617  run;

NOTE: There were 20 observations read from the data set EMWS5.MDLCOMP_EMRANK.
      WHERE (MODEL='Reg') and (TARGET='Attrition') and (dataRole='TRAIN');
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12618  data work._augment;
12619  do BIN= 1 to 20;
12620  DECILE = BIN*5;
12621  output;
12622  end;
12623  run;

NOTE: The data set WORK._AUGMENT has 20 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12624  data WORK._EMRANK;
12625  merge WORK._AUGMENT WORK._EMRANK;
12626  by BIN;
12627  run;

NOTE: There were 20 observations read from the data set WORK._AUGMENT.
NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12628  data WORK._EMRANK;
12629  set WORK._EMRANK end=_lastObservation_;
12630  retain _previousMinP_ _previousMaxP_;
12631  retain _group_ 1;
12632  keep event;
12633  keep bin _cutoff_ _group_;
12634  if (bin > 1) then do;
12635  bin = bin - 1;
12636  _cutoff_ = (_maxP_ + _previousMinP_) / 2;
12637  if (abs(_previousMaxP_ - _previousMinP_) < 1E-6) then do;
12638  /* tied */
12639  _cutoff_ = max((_minP_ + _maxP_)/2, min(_cutoff_, _previousMinP_/*-1E-6*/
12640  ));
12641  end;
12642  else if (abs(_maxP_ - _minP_) < 1E-6) then do;
12643  /* next tied */
12644  _cutoff_ = min((_previousMinP_ + _previousMaxP_)/2, max(_cutoff_, _maxP_/*+ 1E-6*/
12645  ));
12646  end;
12647  output;
12648  *if ( abs((_maxP_ +_minP_)/2 - (_previousMaxP_ + _previousMinP_)/2) > 1E-6) then do;
12649  * _group_ + 1;
12650  *end;
12651  if (_maxP_ le _previousMinP_ - 1E-6) then do;
12652  _group_ + 1;
12653  end;
12654  else if (abs(_maxP_ - _previousMinP_) < 1E-6) then do;
12655  if (abs(_maxP_ - _minP_) > 1E-6) then do;
12656  _group_ + 1;
12657  end;
12658  end;
12659  bin + 1;
12660  /* correct the previous change */
12661  end;
12662  if (_lastObservation_) then do;
12663  _cutoff_ = .;
12664  output;
12665  end;
12666  _previousMinP_ = _minP_;
12667  _previousMaxP_ = _maxP_;
12668  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12669  data WORK._EMRANK;
12670  set WORK._EMRANK;
12671  by _group_;
12672  retain _start_;
12673  if (first._group_) then do;
12674  _start_ = _n_;
12675  end;
12676  if (last._group_) then do;
12677  _end_ = _n_;
12678  output;
12679  end;
12680  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of 
      this session.
12681  filename emflow
12681! "F:\WQD7005\MalaysiaStockPrediction-master\SAS\Mildstone5\Milestone5-Insight\Workspaces\
12681! EMWS5\MdlComp\EMFLOWSCORE.sas";
12682  *------------------------------------------------------------*;
12683  * MdlComp: Scoring REG_TRAIN data;
12684  *------------------------------------------------------------*;
12685  data EMWS5.MdlComp_TRAIN
12686  / view=EMWS5.MdlComp_TRAIN
12687  ;
12688  set EMWS5.Reg_TRAIN
12689  ;
12690  %inc emflow;
12770  run;

NOTE: DATA STEP view saved on file EMWS5.MDLCOMP_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS5.REG_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

12771  quit;
12772  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12773  filename emflow
12773! "F:\WQD7005\MalaysiaStockPrediction-master\SAS\Mildstone5\Milestone5-Insight\Workspaces\
12773! EMWS5\MdlComp\EMFLOWSCORE.sas";
12774  *------------------------------------------------------------*;
12775  * MdlComp: Scoring REG_VALIDATE data;
12776  *------------------------------------------------------------*;
12777  data EMWS5.MdlComp_VALIDATE
12778  / view=EMWS5.MdlComp_VALIDATE
12779  ;
12780  set EMWS5.Reg_VALIDATE
12781  ;
12782  %inc emflow;
12862  run;

NOTE: DATA STEP view saved on file EMWS5.MDLCOMP_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS5.REG_VALIDATE.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

12863  quit;
12864  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12865  filename emflow
12865! "F:\WQD7005\MalaysiaStockPrediction-master\SAS\Mildstone5\Milestone5-Insight\Workspaces\
12865! EMWS5\MdlComp\EMFLOWSCORE.sas";
12866  *------------------------------------------------------------*;
12867  * MdlComp: Scoring REG_TEST data;
12868  *------------------------------------------------------------*;
12869  data EMWS5.MdlComp_TEST
12870  / view=EMWS5.MdlComp_TEST
12871  ;
12872  set EMWS5.Reg_TEST
12873  ;
12874  %inc emflow;
12954  run;

NOTE: DATA STEP view saved on file EMWS5.MDLCOMP_TEST.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS5.REG_TEST.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

12955  quit;
12956  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12957  *------------------------------------------------------------*;
12958  * MdlComp: Computing metadata for TRAIN data;
12959  *------------------------------------------------------------*;

NOTE: View EMWS5.MDLCOMP_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS5.MDLCOMP_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      
NOTE: View EMWS5.MDLCOMP_VALIDATE.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      
NOTE: View EMWS5.MDLCOMP_TEST.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      
