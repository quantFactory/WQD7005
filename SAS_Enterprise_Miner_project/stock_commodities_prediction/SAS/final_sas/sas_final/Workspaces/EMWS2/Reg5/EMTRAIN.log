*------------------------------------------------------------*
* Training Log
Date:                December 16, 2019
Time:                12:32:30
*------------------------------------------------------------*
10869  proc freq data=EMWS2.Reg5_VariableSet noprint;
10870  table ROLE*LEVEL/out=WORK.Reg5META;
10871  run;

NOTE: There were 7 observations read from the data set EMWS2.REG5_VARIABLESET.
NOTE: The data set WORK.REG5META has 3 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

10872  proc print data=WORK.Reg5META label noobs;
10873  var ROLE LEVEL COUNT;
10874  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
10875  title9 ' ';
10876  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
10877  run;

NOTE: There were 3 observations read from the data set WORK.REG5META.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

10878  title10;

10879  %let EMNORLEN = %DMNORLEN;
EMWS2.Part5_TRAIN EMWS2.Part5_TRAIN 
EMWS2.Part5_TRAIN EMWS2.Part5_TRAIN EMWS2 Part5_TRAIN 
EMWS2.Part5_TRAIN EMWS2.Part5_TRAIN 
EMWS2.Part5_TRAIN EMWS2.Part5_TRAIN EMWS2 Part5_TRAIN 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL _INIT >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL setMetaData >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL setMetaData >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL _term >> 
"No decisions defined for target "stockprice"." 
10880  proc print data = EMWS2.Ids5_stockprice_DM noobs label;
10881  var _type_ variable label;
10882  where _type_ ^in('MATRIX', 'DECISION', 'TRAINPRIOR', 'DATAPRIOR', 'DECPRIOR');
10883  label _TYPE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,     NOQUOTE))" VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
10884  title9 ' ';
10885  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_predDecVars_title  , NOQUOTE))";
10886  run;

NOTE: There were 3 observations read from the data set EMWS2.IDS5_STOCKPRICE_DM.
      WHERE _type_ not in ('DATAPRIOR', 'DECISION', 'DECPRIOR', 'MATRIX', 'TRAINPRIOR');
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

10887  title10;

NOTE: There were 3 observations read from the data set EMWS2.IDS5_STOCKPRICE_DD.
NOTE: The data set WORK.STOCKPRICE has 3 observations and 1 variables.
NOTE: There were 3 observations read from the data set EMWS2.IDS5_STOCKPRICE_DD.
NOTE: The data set WORK.STOCKPRICE has 3 observations and 1 variables.
10897  *------------------------------------------------------------*;
10898  * Reg5: Create decision matrix;
10899  *------------------------------------------------------------*;
10900  data WORK.stockprice(label="stockprice");
10901    length   stockprice                           8
10902             ;
10903  
10904   stockprice=2.43;
10905  output;
10906   stockprice=2.73;
10907  output;
10908   stockprice=2.58;
10909  output;
10910  ;
10911  run;

NOTE: The data set WORK.STOCKPRICE has 3 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

10912  proc datasets lib=work nolist;
10913  modify stockprice(type=PROFIT label=stockprice);
10914  run;

NOTE: MODIFY was successful for WORK.STOCKPRICE.DATA.
10915  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

10916  data EM_DMREG / view=EM_DMREG;
10917  set EMWS2.Part5_TRAIN(keep=
10918  REP_gasprice REP_goldprice REP_newspolarity REP_oilprice REP_silverprice
10919  polarity_cat stockprice);
10920  run;

NOTE: DATA STEP view saved on file WORK.EM_DMREG.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

10921  *------------------------------------------------------------* ;
10922  * Reg5: DMDBClass Macro ;
10923  *------------------------------------------------------------* ;
10924  %macro DMDBClass;
10925      polarity_cat(ASC)
10926  %mend DMDBClass;
10927  *------------------------------------------------------------* ;
10928  * Reg5: DMDBVar Macro ;
10929  *------------------------------------------------------------* ;
10930  %macro DMDBVar;
10931      REP_gasprice REP_goldprice REP_newspolarity REP_oilprice REP_silverprice
10932     stockprice
10933  %mend DMDBVar;
10934  *------------------------------------------------------------*;
10935  * Reg5: Create DMDB;
10936  *------------------------------------------------------------*;
10937  proc dmdb batch data=WORK.EM_DMREG
10938  dmdbcat=WORK.Reg5_DMDB
10939  maxlevel = 513
10940  ;
10941  class %DMDBClass;
10942  var %DMDBVar;
10943  target
10944  stockprice
10945  ;
10946  run;

NOTE: Records processed = 20   Memory used = 511K.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      
NOTE: There were 20 observations read from the data set EMWS2.PART5_TRAIN.
NOTE: There were 20 observations read from the data set WORK.EM_DMREG.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

10947  quit;
10948  *--- end code ---*;

10949  *------------------------------------------------------------*;
10950  * Reg5: Run DMREG procedure;
10951  *------------------------------------------------------------*;
10952  proc dmreg data=EM_DMREG dmdbcat=WORK.Reg5_DMDB
10953  validata = EMWS2.Part5_VALIDATE
10954  outest = EMWS2.Reg5_EMESTIMATE
10955  outterms = EMWS2.Reg5_OUTTERMS
10956  outmap= EMWS2.Reg5_MAPDS namelen=200
10957  ;
10958  class
10959  polarity_cat
10960  ;
10961  model stockprice =
10962  REP_gasprice
10963  REP_goldprice
10964  REP_newspolarity
10965  REP_oilprice
10966  REP_silverprice
10967  polarity_cat
10968  /error=normal
10969  coding=DEVIATION
10970  nodesignprint
10971  ;
10972  ;
10973  code file="F:\WQD7005\MalaysiaStockPrediction-master\SAS\Mildstone5\Milestone5-Insight\Workspaces\EMWS2\Reg5\EMPUBLISHSCORE.sas"
10974  group=Reg5
10975  ;
10976  code file="F:\WQD7005\MalaysiaStockPrediction-master\SAS\Mildstone5\Milestone5-Insight\Workspaces\EMWS2\Reg5\EMFLOWSCORE.sas"
10977  group=Reg5
10978  residual
10979  ;
10980  run;

NOTE: External file F:\WQD7005\MalaysiaStockPrediction-master\SAS\Mildstone5\Milestone5-Insight\Workspaces\EMWS2\Reg5\EMPUBLISHSCORE.sas opened.
NOTE: External file F:\WQD7005\MalaysiaStockPrediction-master\SAS\Mildstone5\Milestone5-Insight\Workspaces\EMWS2\Reg5\EMFLOWSCORE.sas opened.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.13 seconds
      cpu time            0.06 seconds
      
NOTE: There were 20 observations read from the data set EMWS2.PART5_TRAIN.
NOTE: There were 20 observations read from the data set WORK.EM_DMREG.
NOTE: There were 8 observations read from the data set EMWS2.PART5_VALIDATE.
NOTE: The data set EMWS2.REG5_EMESTIMATE has 3 observations and 40 variables.
NOTE: The data set EMWS2.REG5_OUTTERMS has 8 observations and 6 variables.
NOTE: The data set EMWS2.REG5_MAPDS has 2 observations and 9 variables.
NOTE: The PROCEDURE DMREG printed page 3.
NOTE: PROCEDURE DMREG used (Total process time):
      real time           0.14 seconds
      cpu time            0.07 seconds
      

10981  quit;

10982  proc datasets lib=WORK nolist;
10983  delete Reg5_DMDB;
10984  run;

NOTE: The file WORK.REG5_DMDB (memtype=DATA) was not found, but appears on a DELETE statement.
10985  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

10986  proc datasets lib=WORK nolist;
10987  delete Reg5_DMDB / memtype=catalog;
10988  run;

NOTE: Deleting WORK.REG5_DMDB (memtype=CATALOG).
10989  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

10990  data WORK.ESTIMATE;
10991  length _NAME_ $32;
10992  set EMWS2.Reg5_EMESTIMATE;
10993  drop _AIC_--_VSUMW_
10994  ;
10995  where _TYPE_ in('PARMS', 'T', 'P');
10996  select(_TYPE_);
10997  when('PARMS') _NAME_='Coefficient';
10998  when('T') _NAME_='tValue';
10999  when('P') _NAME_='PValue';
11000  otherwise;
11001  end;
11002  run;

NOTE: There were 3 observations read from the data set EMWS2.REG5_EMESTIMATE.
      WHERE _TYPE_ in ('P', 'PARMS', 'T');
NOTE: The data set WORK.ESTIMATE has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11003  proc transpose data=WORK.ESTIMATE out=WORK.ESTIMATE(rename=(_NAME_=Effect));
11004  run;

NOTE: There were 3 observations read from the data set WORK.ESTIMATE.
NOTE: The data set WORK.ESTIMATE has 8 observations and 5 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11005  proc transpose data=EMWS2.Reg5_MAPDS out=WORK.MAP(rename=(_NAME_=Effect INPUT=Variable
11006  ));
11007  var 'REP_gasprice'n--'polarity_catNEUTRAL'n;
11008  run;

NOTE: There were 2 observations read from the data set EMWS2.REG5_MAPDS.
NOTE: The data set WORK.MAP has 7 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11009  proc sort data=WORK.MAP;
11010  by Effect;
11011  run;

NOTE: There were 7 observations read from the data set WORK.MAP.
NOTE: The data set WORK.MAP has 7 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11012  proc sort data=WORK.ESTIMATE;
11013  by Effect;
11014  run;

NOTE: There were 8 observations read from the data set WORK.ESTIMATE.
NOTE: The data set WORK.ESTIMATE has 8 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11015  data EMWS2.Reg5_EFFECTS(rename=(_LABEL_=EffectLabel));
11016  length Variable ClassLevel $32;
11017  merge WORK.ESTIMATE WORK.MAP;
11018  by Effect;
11019  label Effect = "%sysfunc(sasmsg(sashelp.dmine, rpt_effect_vlabel, NOQUOTE))" Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" Sign = "%sysfunc(sasmsg(sashelp.dmine, rpt_sign_vlabel, NOQUOTE))" ClassLevel =
11020     "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel, NOQUOTE))" Abscoefficient = "%sysfunc(sasmsg(sashelp.dmine, rpt_abscoefficient_vlabel, NOQUOTE))" Coefficient = "%sysfunc(sasmsg(sashelp.dmine, rpt_coefficient_vlabel, NOQUOTE))" _LABEL_ =
11021     "%sysfunc(sasmsg(sashelp.dmine, rpt_effectLabel_vlabel, NOQUOTE))" CODE = "%sysfunc(sasmsg(sashelp.dmine, rpt_scorecodevar_vlabel, NOQUOTE))";
11022  label tvalue = "%sysfunc(sasmsg(sashelp.dmine, rpt_tvalue_vlabel,         NOQUOTE))" abstvalue = "%sysfunc(sasmsg(sashelp.dmine, rpt_absoluteTvalue_vlabel, NOQUOTE))" PValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_pvalue_vlabel,         NOQUOTE))";
11023  abstvalue = abs(tValue);
11024  if index(Effect, 'Intercept') then do;
11025  variable = 'Intercept';
11026  classLevel = scan(_LABEL_, 2, '=');
11027  end;
11028  if ^indexc(variable, '*') then do;
11029  if length(effect)>length(variable) then classlevel = substr(Effect, length(variable)+1);
11030  end;
11031  if Effect eq '' then Effect = Variable;
11032  if coefficient < 0 then sign = '-';
11033  else sign = '+';
11034  abscoefficient = abs(coefficient);
11035  if _LABEL_ = '' then _LABEL_ = Effect;
11036  if coefficient ne . then output;
11037  run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 11023:13   1 at 11034:18   
NOTE: There were 8 observations read from the data set WORK.ESTIMATE.
NOTE: There were 7 observations read from the data set WORK.MAP.
NOTE: The data set EMWS2.REG5_EFFECTS has 7 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

11038  proc sort data =EMWS2.Reg5_EFFECTS;
11039  by
11040  descending abstvalue;
11041  run;

NOTE: There were 7 observations read from the data set EMWS2.REG5_EFFECTS.
NOTE: The data set EMWS2.REG5_EFFECTS has 7 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11042  data EMWS2.Reg5_EFFECTS;
11043  set EMWS2.Reg5_EFFECTS;
11044  format TEffectNum 3.;
11045  label TEffectNum = "%sysfunc(sasmsg(sashelp.dmine, rpt_teffectnum_vlabel, NOQUOTE))";
11046  retain TEffectNum;
11047  TEffectNum = _N_;
11048  run;

NOTE: There were 7 observations read from the data set EMWS2.REG5_EFFECTS.
NOTE: The data set EMWS2.REG5_EFFECTS has 7 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11049  proc sort data =EMWS2.Reg5_EFFECTS;
11050  by
11051  descending absCoefficient;
11052  run;

NOTE: There were 7 observations read from the data set EMWS2.REG5_EFFECTS.
NOTE: The data set EMWS2.REG5_EFFECTS has 7 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11053  data EMWS2.Reg5_EFFECTS;
11054  set EMWS2.Reg5_EFFECTS;
11055  format EffectNum 3.;
11056  label EffectNum = "%sysfunc(sasmsg(sashelp.dmine, rpt_effectnum_vlabel, NOQUOTE))";
11057  retain EffectNum;
11058  EffectNum = _N_;
11059  run;

NOTE: There were 7 observations read from the data set EMWS2.REG5_EFFECTS.
NOTE: The data set EMWS2.REG5_EFFECTS has 7 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

